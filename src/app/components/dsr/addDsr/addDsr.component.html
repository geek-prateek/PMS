<ng-content></ng-content>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add DSR</h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="onReset()"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row d-flex justify-content-between">
          <div class="col-md-3">
            <div class="dsrDateBack">
              <form [formGroup]="addDsrForm">
                <label for="dsrDate" class="form-label"
                  >DSR Date <span>*</span></label
                >
                <input type="date" name="dsrDate" formControlName="dsrDate"/>
              </form>
            </div>
          </div>
          <div class="col-md-3">
            <p [ngClass]="hourSpent >= 8 ? 'timeCompleted' : 'timeRemaining'">
              <b>Total Hours & Minutes: {{ hourSpent }} : {{ minuteSpent }}</b>
            </p>
          </div>

          <div class="col-md-2">
            <button class="btn addbtn" (click)="onAddTask()">Add task</button>
          </div>
        </div>
      </div>
      <hr />
      <div class="modal-body" [formGroup]="addDsrForm">
        <form
          class="row g-3"
          formArrayName="newDsr"
          *ngFor="let control of newDsrControls.slice().reverse(); let i = index"
        >
          <div [formGroupName]="i">
            <div class="col-md-1">
              <i
                class="bi bi-trash3 text-danger mx-3"
                (click)="onDelete(i)"
              ></i>
            </div>
            <div class="col-md-10.5">
              <div class="row g-3">
                <div class="col-md-3">
                  <label [attr.for]="'department'+i" class="form-label"
                    >Department: <span>*</span></label
                  >
                  <div class="mb-3">
                    <select
                      [id]="'department'+i"
                      class="form-select"
                      name="department"
                      formControlName="department"
                    >
                      <option hidden>Department</option>
                      <option value="development">Development</option>
                      <option value="devOps">DevOps</option>
                      <option value="hr">HR</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-2">
                  <label [attr.for]="'client'+i" class="form-label"
                    >Client: <span>*</span></label
                  >
                  <div class="mb-3">
                    <select
                      [id]="'client'+i"
                      class="form-select"
                      name="client"
                      formControlName="client"
                      required
                    >
                      <option value="" selected disabled hidden>Select Client</option>
                      <option value="btl">BTL</option>
                      <option value="zedra">Zedra</option>
                      <option value="paycheck">PayCheck</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-2">
                  <label [attr.for]="'project'+i" class="form-label"
                    >Project: <span>*</span></label
                  >
                  <div class="mb-3">
                    <select
                      [id]="'project'+i"
                      class="form-select"
                      name="project"
                      formControlName="project"
                      required
                    >
                      <option value="" selected disabled hidden>Select Project</option>
                      <option value="projectTraining">Project Training</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-3">
                  <label [attr.for]="'taskType'+i" class="form-label"
                    >Task type: <span>*</span></label
                  >
                  <div class="mb-3">
                    <select
                      [id]="'taskType'+i"
                      class="form-select"
                      name="taskType"
                      formControlName="taskType"
                      required
                    >
                      <option value="" selected disabled hidden>Select Tasktype</option>
                      <option value="self">Self learning</option>
                      <option value="internal">Internal training</option>
                      <option value="support">Support</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-1">
                  <label [attr.for]="'hour'+i" class="form-label"
                    >Hour <span>*</span></label
                  >
                  <input
                    type="number"
                    min="0"
                    max="23"
                    [id]="'hour'+i"
                    placeholder="0"
                    class="form-control"
                    formControlName="hour"
                  />
                </div>
                <div class="col-md-1">
                  <label [attr.for]="'minute'+i" class="form-label"
                    >Minute <span>*</span></label
                  >
                  <input
                    type="number"
                    min="0"
                    max="59"
                    [id]="'minute'+i"
                    placeholder="0"
                    class="form-control"
                    formControlName="minute"
                  />
                </div>
                <div class="col-md-3">
                  <label [attr.for]="'taskKey'+i" class="form-label"
                    >Task Key (Jira ID)</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    [id]="'taskKey'+i"
                    placeholder="Enter Jira ID"
                    formControlName="taskKey"
                  />
                </div>
                <div class="col-md-3">
                  <label [attr.for]="'dueDate'+i" class="form-label">Due Date</label>
                  <input
                    type="date"
                    class="form-control"
                    [id]="'dueDate'+i"
                    placeholder="yyyy-mm-dd"
                    formControlName="dueDate"
                  />
                </div>
                <div class="col-md-12">
                  <label [attr.for]="'dsrDetails'+i" class="form-label"
                    >DSR Details <span>*</span></label
                  >
                  <textarea
                    [id]="'dsrDetails'+i"
                    class="form-control"
                    placeholder="Write Details"
                    rows="4"
                    formControlName="dsrDetails"
                  ></textarea>
                </div>
              </div>
              <hr />
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer bg-light">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="onReset()">
          Close
        </button>
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="addDsrForm.invalid"
          data-bs-dismiss="modal"
          (click)="onPublish()"
        >
          Publish
        </button>
      </div>
    </div>
  </div>
</div>

<!-- <i
  class="bi bi-patch-plus"
  style="font-size: 25px"
  data-bs-toggle="modal"
  data-bs-target="#exampleModal"
></i>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl s-500">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add DSR</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row d-flex justify-content-between">
          <div class="col-md-3">
            <div class="dsrDateBack">
              <form [formGroup]="addDsrForm">
                <label for="dsrDate" class="form-label"
                  >DSR Date <span>*</span></label
                >
                <input type="date" name="dsrDate" formControlName="dsrDate" />
              </form>
            </div>
          </div>
          <div class="col-md-3">
            <p [ngClass]="hourSpent >= 8 ? 'timeCompleted' : 'timeRemaining'">
              <b
                >Total Hours & Minutes :- {{ hourSpent }} : {{ minuteSpent }}</b
              >
            </p>
          </div>

          <div class="col-md-2">
            <button class="btn addbtn" (click)="onAddTask()">Add task</button>
          </div>
        </div>
      </div>
      <hr />
      <div class="modal-body" [formGroup]="addDsrForm">
        <form class="row g-3" formArrayName="newDsr" *ngFor="let control of newDsrControls; let i = index">
          <div class="col-md-1">
            <i class="bi bi-trash3 text-danger mx-3" (click)="onDelete(i)"></i>
          </div>
          <div class="col-md-10">
            <div class="row g-3">
              <div class="col-md-3">
                <label for="department" class="form-label"
                  >Department: <span>*</span></label
                >
                <div class="mb-3">
                  <select
                    class="form-select"
                    name="department"
                  >
                    <option hidden>Department</option>
                    <option value="development">Development</option>
                    <option value="devOps">DevOps</option>
                    <option value="hr">HR</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <label for="client" class="form-label"
                  >Client: <span>*</span></label
                >
                <div class="mb-3">
                  <select
                    class="form-select"
                    name="client"
                  >
                    <option hidden value="client">Select Client</option>
                    <option value="btl">BTL</option>
                    <option value="zedra">Zedra</option>
                    <option value="paycheck">PayCheck</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <label for="project" class="form-label"
                  >Project: <span>*</span></label
                >
                <div class="mb-3">
                  <select
                    class="form-select"
                    name="project"
                  >
                    <option hidden value="project">Select Project</option>
                    <option value="projectTraining">Project Training</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <label for="taskType" class="form-label"
                  >Task type: <span>*</span></label
                >
                <div class="mb-3">
                  <select
                    class="form-select"
                    name="taskType"
                  >
                    <option hidden value="taskType">Select Tasktype</option>
                    <option value="self">Self learning</option>
                    <option value="internal">Internal training</option>
                    <option value="support">Support</option>
                  </select>
                </div>
              </div>
              <div class="col-md-1">
                <label for="hour" class="form-label">Hour <span>*</span></label>
                <input
                  type="number"
                  min="0"
                  max="23"
                  class="form-control"
                />
              </div>
              <div class="col-md-1">
                <label for="minute" class="form-label"
                  >Minute <span>*</span></label
                >
                <input
                  type="number"
                  min="0"
                  max="59"
                  class="form-control"
                />
              </div>
              <div class="col-md-3">
                <label for="taskKey" class="form-label"
                  >Task Key (Jira ID)</label
                >
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter Jira ID"
                />
              </div>
              <div class="col-md-3">
                <label for="dueDate" class="form-label">Due Date</label>
                <input
                  type="date"
                  class="form-control"
                  placeholder="yyyy-mm-dd"
                />
              </div>
              <div class="col-md-12">
                <label for="dsrDetails" class="form-label"
                  >DSR Details <span>*</span></label
                >
                <textarea
                  class="form-control"
                  placeholder="Write Details"
                  rows="4"
                ></textarea>
              </div>
            </div>
            <hr>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="addDsrForm.invalid"
          (click)="onPublish()"
        >
          Publish
        </button>
      </div>
    </div>
  </div>
</div> -->
